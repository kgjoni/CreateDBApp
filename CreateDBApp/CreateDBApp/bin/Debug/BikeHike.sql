CREATE TABLE Customer (
CID INT IDENTITY(1, 1) PRIMARY KEY,
FirstName NVARCHAR(64) NOT NULL,
LastName NVARCHAR(64) NOT NULL,
Email NVARCHAR(128) NOT NULL
);

CREATE TABLE Byke_Type (
BTID INT IDENTITY(1, 1) PRIMARY KEY,
Description NVARCHAR(128) NOT NULL,
PricePerHour FLOAT NOT NULL
);

CREATE TABLE Bike (
BID INT IDENTITY(1, 1) PRIMARY KEY,
BTID INT NOT NULL FOREIGN KEY REFERENCES Byke_Type(BTID),
ServiceYear SMALLINT NOT NULL
);

CREATE TABLE Rentals (
RID INT IDENTITY(1, 1) PRIMARY KEY,
CID INT NOT NULL FOREIGN KEY REFERENCES Customer(CID),
BID INT NOT NULL FOREIGN KEY REFERENCES Bike(BID),
RentalStart DATETIME NOT NULL,
RentalEnd DATETIME NOT NULL,
Duration TIME,
AmountDue FLOAT NOT NULL
);

CREATE TABLE History (
AID INT IDENTITY(1, 1) PRIMARY KEY,
CID INT NOT NULL FOREIGN KEY REFERENCES Customer(CID),
BID INT NOT NULL FOREIGN KEY REFERENCES Bike(BID),
IsRented NVARCHAR(4)
);